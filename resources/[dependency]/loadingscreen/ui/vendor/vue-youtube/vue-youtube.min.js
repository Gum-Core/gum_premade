/*!
 * vue-youtube v1.4.0
 * (c) 2021 Ant√©rio Vieira
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueYoutube=e.VueYoutube||{})}(this,function(e){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t,i=(function(e,t){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var i,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(i=0;i<r.length;++i)if(r[i].test(e))return r[i].exec(e)[1];if(t.fuzzy){var o=e.split(/[\/\&\?=#\.\s]/g);for(i=0;i<o.length;++i)if(/^[^#\&\?]{11}$/.test(o[i]))return o[i]}}return null}}(t={exports:{}},t.exports),t.exports),r=require("youtube-player"),o={name:"Youtube",props:{videoId:String,playerVars:{type:Object,default:function(){return{}}},height:{type:[Number,String],default:360},width:{type:[Number,String],default:640},resize:{type:Boolean,default:!1},resizeDelay:{type:Number,default:100},nocookie:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!1}},data:function(){return{player:{},events:(e={},e[-1]="unstarted",e[1]="playing",e[2]="paused",e[0]="ended",e[3]="buffering",e[5]="cued",e),resizeTimeout:null};var e},computed:{aspectRatio:function(){return this.width/this.height}},methods:{playerReady:function(e){this.$emit("ready",e.target)},playerStateChange:function(e){null!==e.data&&-1!==e.data&&this.$emit(this.events[e.data],e.target)},playerError:function(e){this.$emit("error",e.target)},updatePlayer:function(e){if(e){var t={videoId:e};"number"==typeof this.playerVars.start&&(t.startSeconds=this.playerVars.start),"number"==typeof this.playerVars.end&&(t.endSeconds=this.playerVars.end),1!==this.playerVars.autoplay?this.player.cueVideoById(t):this.player.loadVideoById(t)}else this.player.stopVideo()},resizeProportionally:function(){var r=this;this.player.getIframe().then(function(e){var t=r.fitParent?e.parentElement.offsetWidth:e.offsetWidth,i=t/r.aspectRatio;r.player.setSize(t,i)})},onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.resizeProportionally,this.resizeDelay)}},watch:{videoId:"updatePlayer",resize:function(e){e?(window.addEventListener("resize",this.onResize),this.resizeProportionally()):(window.removeEventListener("resize",this.onResize),this.player.setSize(this.width,this.height))},width:function(e){this.player.setSize(e,this.height)},height:function(e){this.player.setSize(this.width,e)}},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player),this.resize&&window.removeEventListener("resize",this.onResize)},mounted:function(){window.YTConfig={host:"https://www.youtube.com/iframe_api"};var e=this.nocookie?"https://www.youtube-nocookie.com":"https://www.youtube.com";this.player=r(this.$el,{host:e,width:this.width,height:this.height,videoId:this.videoId,playerVars:this.playerVars}),this.player.on("ready",this.playerReady),this.player.on("stateChange",this.playerStateChange),this.player.on("error",this.playerError),this.resize&&window.addEventListener("resize",this.onResize),this.fitParent&&this.resizeProportionally()},render:function(e){return e("div")}};function n(e){e.prototype.$youtube={getIdFromUrl:i},e.component("youtube",o)}"undefined"!=typeof window&&window.Vue&&window.Vue.use(n);e.default=n,e.Youtube=o,e.getIdFromUrl=i,e.version="1.4.0",Object.defineProperty(e,"__esModule",{value:!0})});